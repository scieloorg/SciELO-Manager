{% extends "base_list_lv0.html" %}
{% load i18n %}
{% load pagination_tags %}
{% load trans_status %}

{% block page_title %}{% trans "List of Article Check ins" %}{% endblock %}

{% block content %}

<!-- NAVIGATIONS -->
<div class="navbar">
  <div class="navbar-inner">
    <ul class="nav">
      <li>
        <a class="brand" href="#">{% trans 'List of Check-ins by Article' %}</a>
      </li>
      <li class="divider-vertical"></li>
    </ul>
    <ul class="nav pull-right">
      <li class="divider-vertical"></li>
      <li><a href="#pending" role="menuitem"><i class="icon-time"></i> {% trans "Pending" %}</a></li>
      <li class="divider-vertical"></li>
      <li><a href="#accepted" role="menuitem"><i class="icon-ok-circle"></i> {% trans "Accepted" %}</a></li>
    </ul>
  </div>
</div>

<div class="row-fluid show-grid">
  <div class="span8">
    <a name="pending"></a>
    <h3>{% trans 'Pending' %}:</h3>
  </div>
  <div class="span4">
    <div class="pull-right">
      {% simple_pagination checkins_pending "pending_page" %}
    </div>
  </div>
</div>


<table class="table table-striped table-condensed">
  <thead>
    <tr>
      <th>{% trans "Package" %}</th>
      <th>{% trans "Article" %}:</th>
      <th>{% trans "Journal" %}:</th>
      <th>{% trans "Issue label" %}:</th>
      <th>{% trans "Most recent upload" %}:</th>
      <th>{% trans "Error Level" %}:</th>
      <th class="span1">&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    {% for checkin in checkins_pending.object_list %}
      <tr>
        <td>{{ checkin.package_name }}</td>
        <td>{{ checkin.article.article_title|truncatewords:5 }}</td>
        <td>{{ checkin.article.journal_title }}</td>
        <td>{{ checkin.article.issue_label }}</td>
        <td>{{ checkin.created_at|date:"d/m/Y - H:i" }}</td>
        <td>
          <span class="label label-{% trans_status checkin.get_error_level to_label='True' %}">
            {{ checkin.get_error_level }}
          </span>
        </td>
        <td>
          <a href="{% url notice_detail checkin.pk %}" class="btn btn-mini btn">{% trans "Details" %}</a>
        </td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="7">
          <div class="alert alert-info">
            <i class="icon-info-sign"></i>
            {% trans 'There are no items.' %}
          </div>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>


<div class="row-fluid show-grid">
  <div class="span8">
    <a name="accepted"></a>
    <h3>{% trans 'Accepted' %}:</h3>
  </div>
  <div class="span4">
    <div class="pull-right">
      {% simple_pagination checkins_accepted "accepted_page" %}
    </div>
  </div>
</div>

<table class="table table-striped table-condensed">
  <thead>
    <tr>
      <th>{% trans "Package" %}</th>
      <th>{% trans "Article" %}:</th>
      <th>{% trans "Journal" %}:</th>
      <th>{% trans "Issue label" %}:</th>
      <th>{% trans "Most recent upload" %}:</th>
      <th>{% trans "Error Level" %}:</th>
      <th>{% trans "Accepted by" %}:</th>
      <th>{% trans "Accepted at" %}:</th>
      <th class="span1">&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    {% for checkin in checkins_accepted.object_list %}
      <tr>
        <td>{{ checkin.package_name }}</td>
        <td>{{ checkin.article.article_title|truncatewords:5 }}</td>
        <td>{{ checkin.article.journal_title }}</td>
        <td>{{ checkin.article.issue_label }}</td>
        <td>{{ checkin.created_at|date:"d/m/Y - H:i" }}</td>
        <td>
          <span class="label label-{% trans_status checkin.get_error_level to_label='True' %}">
            {{ checkin.get_error_level }}
          </span>
        </td>
        <td>{{ checkin.accepted_by.get_full_name }}</td>
        <td>{{ checkin.accepted_at|date:"d/m/Y - H:i" }}</td>
        <td>
          <a href="{% url notice_detail checkin.pk %}" class="btn btn-mini btn">{% trans "Details" %}</a>
        </td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="9">
          <div class="alert alert-info">
            <i class="icon-info-sign"></i>
            {% trans 'There are no items.' %}
          </div>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
